# Water_discharges
Optimal является головным файлом программы, запускающим ее на выполнение.

Полное название программы - «Речной сток. Оптимальная интерполяция».
Программа предназначена для расчета ежедневных расходов воды за периоды нарушения однозначности связи расходов и уровней. Программа разработана в качестве приложения к программному комплексу «Речной сток», дополняет алгоритмы, реализованные в программном комплексе. 
Программа использует БД программного комплекса «Речной сток».
Для правильной работы программы «Речной сток. Оптимальная интерполяция» необходимо обязательное предварительное выполнение 
следующих действий в программном комплексе «Речной сток»:
- запись в БД таблицы измеренных расходов воды (ИРВ) за расчетный год;
- расчет ежедневных уровней воды (ЕУВ) и запись их в БД;
- построение опорной кривой расходов (КР) (годовой или многолетней) и запись в БД параметров КР;
- осуществление экстраполяции опорной годовой КР вверх и/или вниз и запись в БД параметров экстраполяции.

При запуске программы появляется окно, содержащее виджеты (надписи, поля ввода, кнопки и т.п.). Слева по порядку расположены надписи, 
подсказывающие пользователю, какое действие необходимо выполнить. Справа расположены виджеты, позволяющие вводить/выбирать информацию, 
необходимую для работы программы. Для удобства пользователей активизируемые по ходу работы виджеты окрашиваются в зеленый цвет.
После запуска программы активной является только кнопка (Push Button) «Выбрать», которая позволяет пользователю самостоятельно 
выбрать папку из БД программного комплекса «Речной сток», в которой содержится информация по гидрологическому посту (ГП), 
для которого следует осуществить расчет. После выбора папки активизируется следующий виджет Radio Button, 
позволяющий выбрать опорную КР (годовую или многолетнюю). В случае выбора пункта «Годовая» справа открывается виджет Combo Box 
для выбора года, по данным которого построена опорная кривая расходов. После выбора опорной КР активизируется следующий пункт – 
виджеты Check Box для выбора причины (причин) нарушения однозначности связи расходов и уровней за расчетный период. 
Затем активизируется кнопка (Push Button) «Выбор даты начала периода», при нажатии которой появляется виджет календарь, 
позволяющий выбрать дату начала расчетного периода. Аналогичным образом вводится дата окончания расчетного периода. 
После выбора даты окончания расчетного периода активизируется поле ввода (Line Edit), в которое вводится значение 
принятой величины погрешности измерения расхода воды за расчетный период. После ввода величины погрешности активизируется кнопка
(Push Button) «Вычислить режимные ЕРВ», после нажатия которой программа осуществляет расчет ЕРВ за выбранный период, 
используя метод оптимальной интерполяции относительных отклонений ИРВ от опорной КР. 
После завершения вычисления ЕРВ программа строит гидрограф расчетного периода с нанесенными значениями ИРВ
и выводит график на экран компьютера. Файлы таблицы вычисленных ЕРВ и гидрографа сохраняются в директории БД 
программного комплекса «Речной сток» в папке расчетного года для выбранного ГП.

Новая версия программы, выпущенная 13.12.2019, учитывает смену фаз половодья/паводка при наличии одного пика.
В следующей версии планируется учесть несколько пиков.

В версии от 13.01.2020 учтен случай, когда максимальные уровни наблюдаются более одного дня.